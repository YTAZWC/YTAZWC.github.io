---
title: 为什么要使用双亲委派机制？
date: 2024-08-01 20:09:28
tags: 
  - Java
  - JVM
  - 双亲委派
author: 花木凋零成兰
---

# 为什么要使用双亲委派机制？

Java 虚拟机判断两个类是否为同一个类的依据是：类名是否相同且加载该类的加载器是否相同;

如果没有双亲委派机制, 同一个类可能会被多个类加载器加载, 如此即便是相同的类也可能会被识别为两个不同的类, 相互赋值时会出现问题;

双亲委派机制能够保证多加载器加载某个类时, 最终只有一个类加载器加载, 确保加载结果相同; 没有双亲委派机制, 假如用户编写一个名为 `java.lang.Object` 的类, 并放在程序的 ClassPath 中, 系统就会出现多个不同的 Object 类, 此时 Java 类型体系中基础行为会无法保证, 应用程序会变得一片混乱;

此外, 双亲委派加载机制可以保证核心类的安全, 当有人想替换核心类 `String.java` 时, 在双亲委派机制下, 核心类会被启动类加载器(`BootstrapClassLoader`)优先加载, 轮到其他类加载器再去加载时, 会跳过已经加载过的类, 所以双亲委派加载机制在一定程度上防止了危险代码的植入; 解决了类加载的安全问题;


## 参考文章

- [为什么要使用双亲委派机制？](https://www.cnblogs.com/woaiheniunai/p/15456537.html)

